{% extends 'books/base.html' %}

{% block title %}Checkout{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2>Checkout</h2>

    {% if empty_cart %}
    <p>Your cart is empty. Please add some books before checking out.</p>
    <a href="{% url 'home' %}" class="btn btn-primary">Back to Home</a>
    {% else %}
    <h4>Order Summary:</h4>
    <ul>
        {% for item in cart_items %}
        <li>{{ item.book.title }} (x{{ item.quantity }}) - â‚¹{{ item.subtotal }}</li>
        {% endfor %}
    </ul>

    <h4>Total: â‚¹{{ total_price }}</h4>

    <p><em>This is a placeholder checkout page. Payment functionality coming soon!</em></p>
    <form method="post" action="{% url 'confirm_order' %}">
        {% csrf_token %}
        <button type="submit" class="btn btn-success mt-3">Confirm Order</button>
    </form>
    <form method="post">
        {% csrf_token %}
        <button type="submit" name="simulate_payment" value="true" class="btn btn-success mt-3">ðŸ’³ Simulate Payment</button>
    </form>
    {% endif %}
</div>
{% endblock %}